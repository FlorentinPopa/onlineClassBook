{"ast":null,"code":"import { MatPaginator } from \"@angular/material/paginator\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/student-news.service\";\nimport * as i2 from \"@angular/material/form-field\";\nimport * as i3 from \"@angular/material/input\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/paginator\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/card\";\n\nfunction StudentNewsComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function StudentNewsComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.onSearchClear();\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction StudentNewsComponent_div_8_mat_card_subtitle_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-subtitle\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r4.autori[0].autNumeFull);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"background\": a0,\n    \"background-size\": \"cover\"\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"noAuthors\": a0\n  };\n};\n\nfunction StudentNewsComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelementStart(1, \"mat-card\", 13);\n    i0.ɵɵelementStart(2, \"mat-card-header\");\n    i0.ɵɵelement(3, \"div\", 14);\n    i0.ɵɵelementStart(4, \"mat-card-title\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, StudentNewsComponent_div_8_mat_card_subtitle_6_Template, 2, 1, \"mat-card-subtitle\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"img\", 17);\n    i0.ɵɵelementStart(8, \"mat-card-content\");\n    i0.ɵɵelementStart(9, \"p\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"mat-card-actions\");\n    i0.ɵɵelementStart(12, \"button\", 19);\n    i0.ɵɵtext(13, \"LIKE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 19);\n    i0.ɵɵtext(15, \"SHARE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(7, _c0, \"url(\" + book_r4.prodCoverUrl + \") no-repeat center\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(9, _c1, !book_r4.autori));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(book_r4.prodNume);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", book_r4.autori);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", book_r4.prodCoverUrl, i0.ɵɵsanitizeUrl)(\"alt\", book_r4.prodNume);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(book_r4.prodDescriere);\n  }\n}\n\nconst _c2 = function () {\n  return [12, 24, 48];\n};\n\nexport let StudentNewsComponent = /*#__PURE__*/(() => {\n  class StudentNewsComponent {\n    constructor(newsService) {\n      this.newsService = newsService;\n      this.news = {};\n      this.newsFeed = [];\n      this.searchKey = false;\n      this.dataSource = new MatTableDataSource();\n    }\n\n    getBooks() {\n      this.booksData = this.newsService.getBooks().subscribe(data => {\n        this.booksFeed = data.data;\n        this.dataSource = new MatTableDataSource(data.data);\n        this.dataSource.paginator = this.paginator;\n        this.obs = this.dataSource.connect();\n        console.log(this.dataSource);\n      }, err => {\n        console.log(err);\n      });\n    }\n\n    getEventValue($event) {\n      return $event.target.value;\n    }\n\n    applyFilter(filterValue) {\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n\n      if (this.dataSource.filter) {\n        this.searchKey = true;\n      }\n    }\n\n    onSearchClear() {\n      this.filter = \"\";\n      this.searchKey = false;\n      this.dataSource.filter = \"\";\n    }\n\n    ngOnInit() {\n      this.getBooks();\n      console.log(this.obs);\n    }\n\n    ngOnDestroy() {\n      this.booksData.unsubscribe();\n    }\n\n  }\n\n  StudentNewsComponent.ɵfac = function StudentNewsComponent_Factory(t) {\n    return new (t || StudentNewsComponent)(i0.ɵɵdirectiveInject(i1.StudentNewsService));\n  };\n\n  StudentNewsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StudentNewsComponent,\n    selectors: [[\"app-student-news\"]],\n    viewQuery: function StudentNewsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      }\n    },\n    decls: 12,\n    vars: 8,\n    consts: [[1, \"container-fluid\"], [1, \"row\", \"mt-3\"], [1, \"col-12\"], [1, \"search-div\"], [\"floatLabel\", \"never\", 1, \"search-form-field\"], [\"matInput\", \"\", \"placeholder\", \"Cautare dupa titlu\", \"autocomplete\", \"off\", 3, \"ngModel\", \"keyup\", \"ngModelChange\"], [\"mat-button\", \"\", \"matSuffix\", \"\", \"mat-icon-button\", \"\", \"aria-label\", \"Clear\", 3, \"click\", 4, \"ngIf\"], [1, \"row\"], [\"class\", \"col-lg-3 col-md-4 col-sm-12 mt-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"container-fluid\", \"w-100\", \"mt-3\"], [\"aria-label\", \"Select page\", 3, \"pageSizeOptions\", \"pageSize\"], [\"mat-button\", \"\", \"matSuffix\", \"\", \"mat-icon-button\", \"\", \"aria-label\", \"Clear\", 3, \"click\"], [1, \"col-lg-3\", \"col-md-4\", \"col-sm-12\", \"mt-3\"], [1, \"example-card\", \"align-self-center\"], [\"mat-card-avatar\", \"\", 3, \"ngStyle\"], [1, \"noOverflow\", 3, \"ngClass\"], [4, \"ngIf\"], [\"mat-card-image\", \"\", 1, \"image-card\", 3, \"src\", \"alt\"], [1, \"p-content\"], [\"mat-button\", \"\"]],\n    template: function StudentNewsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"mat-form-field\", 4);\n        i0.ɵɵelementStart(5, \"input\", 5);\n        i0.ɵɵlistener(\"keyup\", function StudentNewsComponent_Template_input_keyup_5_listener($event) {\n          return ctx.applyFilter(ctx.getEventValue($event));\n        })(\"ngModelChange\", function StudentNewsComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.filter = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, StudentNewsComponent_button_6_Template, 3, 0, \"button\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵtemplate(8, StudentNewsComponent_div_8_Template, 16, 11, \"div\", 8);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 9);\n        i0.ɵɵelement(11, \"mat-paginator\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.filter);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.searchKey);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 5, ctx.obs));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(7, _c2))(\"pageSize\", 12);\n      }\n    },\n    directives: [i2.MatFormField, i3.MatInput, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i5.NgIf, i5.NgForOf, i6.MatPaginator, i7.MatButton, i2.MatSuffix, i8.MatIcon, i9.MatCard, i9.MatCardHeader, i9.MatCardAvatar, i5.NgStyle, i9.MatCardTitle, i5.NgClass, i9.MatCardImage, i9.MatCardContent, i9.MatCardActions, i9.MatCardSubtitle],\n    pipes: [i5.AsyncPipe],\n    styles: [\".card-header[_ngcontent-%COMP%], .p-content[_ngcontent-%COMP%]{color:#0009;font-weight:700;text-align:justify;height:62px}.card-body[_ngcontent-%COMP%]{height:175px}.p-content[_ngcontent-%COMP%]{font-size:13px;text-align:justify;overflow:hidden;margin:0 auto;font-weight:400}.card-footer[_ngcontent-%COMP%]{height:42px}.example-card[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}.image-card[_ngcontent-%COMP%]{height:250px}.noAuthors[_ngcontent-%COMP%]{height:59px!important}.noOverflow[_ngcontent-%COMP%]{overflow:hidden}.mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap;max-width:200px}.search-div[_ngcontent-%COMP%]{margin:10px}.search-form-field[_ngcontent-%COMP%]{width:60%;margin-left:10px;padding:5px 10px;background-color:#f5f5f5;border-radius:5px;color:#daa520}.search-form-field[_ngcontent-%COMP%]   div.mat-form-field-underline[_ngcontent-%COMP%]{display:none}.search-form-field[_ngcontent-%COMP%]   div.mat-form-field-infix[_ngcontent-%COMP%]{border-top:0}.search-form-field[_ngcontent-%COMP%]   div.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0}.search-form-field[_ngcontent-%COMP%]   div.mat-form-field-suffix[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:32px;width:32px}.mat-icon[_ngcontent-%COMP%]{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:34px;width:34px}\"]\n  });\n  return StudentNewsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}